#!/bin/sh
# Run lint-staged for conditional formatting
npx lint-staged

# Run additional quality checks if code files were changed
if git diff --staged --name-only | grep -E '\.(ts|tsx|js|jsx)$' > /dev/null; then
  echo "Code files detected, running quality checks..."
  mise run lint
  mise run type-check
  mise run test:all
fi
